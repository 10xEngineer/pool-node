#!/usr/bin/env ruby

begin
  require '10xengineer-node'
rescue LoadError
  txe_path = File.expand_path('../../lib', __FILE__)

  $:.unshift(vmaster_path)

  require '10xengineer-node'
end

program :name, "10xeng-node"
program :version, TenxEngineer::Node::VERSION
program :description, "10xEngineer hostnode management toolchain"
program :help_formatter, :compact

default_command :help

# load commands
require '10xengineer-node/vm_commands'

unless File.exists? TenxEngineer::Node::ROOT
  abort "10xEngineer root (#{TenxEngineer::Node::ROOT}) does not exists!"
end

Commander::Runner.instance.run!
